{% extends "index.html" %}
{% block content %}
<h2>Manage Patrons</h2>
<table border="1">
    <tr><th>ID</th><th>Name</th><th>Fine Balance</th><th>Books Out</th></tr>
    {% for patron in patrons %}
    <tr>
        <td>{{ patron.id_number }}</td>
        <td>{{ patron.name }}</td>
        <td>{{ patron.fine_balance }}</td>
        <td>{{ patron.current_books_out }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Add Patron</h3>
<form method="POST">
    <input type="hidden" name="action" value="add">
    Name: <input name="name"><br>
    Patron ID: <input name="patron_id" type="number"><br>
    Fine Balance: <input name="fine_balance" type="number" step="0.01" value="0.0"><br>
    Books Out: <input name="current_books_out" type="number" value="0"><br>
    <button type="submit">Add</button>
</form>

<h3>Edit Patron (Leave blank to keep current)</h3>
<form method="POST">
    <input type="hidden" name="action" value="edit">
    Patron ID: <input name="patron_id" type="number" required><br>
    New Name: <input name="name"><br>
    New Fine Balance: <input name="fine_balance" type="number" step="0.01"><br>
    New Books Out: <input name="current_books_out" type="number"><br>
    <button type="submit">Edit</button>
</form>

<h3>Delete Patron</h3>
<form method="POST">
    <input type="hidden" name="action" value="delete">
    Patron ID: <input name="patron_id" type="number" required><br>
    <button type="submit">Delete</button>
</form>
{% endblock %}
